{"version":3,"sources":["cljs_re_frame/router.cljs"],"mappings":";AAKA,8BAAA,mFAAA,iBAAA,wCAAA,GAAA,OAAA,UAAA,WAAA,WAAA,wBAAA,WAAA,wBAAA,oBAAA,eAAA,iEAAA,qDAAA,2DAAA,6DAAA,6DAAA,wFAAA,4DAAA,sFAAA,+EAAA,t5BAAKA;AAaL,mCAAA,nCAAMC,8EAAaC;AAAnB,AACE,OAACC,sBAAiBH,4BAAOE;;AAE3B,AAAKE,+BACH,4BAAA,WAAAC,tBAAME;AAAN,AAAgB,8BAAA,mFAAA,6GAAAF,vNAACG;;YAAjB,WAAAF,nBACMG;AADN,AACa,IAAMC,gBAAc,kDAAAJ,lDAACH,sBAAiBH;AAAtC,AACE,YAAA,ZAACW;;AACD,AAACA,YAAeD;;AAChBA;;AAJf,AAKE,OAACE,iBAAYL,SAASE;;AAE1B,mCAAA,nCAAMI;AAAN,AAEE,OAAcT;;AAEhB,gCAAA,hCAAMU,wEAAUC;AAAhB,AACE,IAAMC,OAAK,AAACC,mBAAcjB,4BAAOe;AAAjC,AACE,AAACJ,YAAe,CAAA,yDAAkBI;;AAClC,AAACJ,YAAeK;;AAChBA;;AAEJ,uCAAA,vCAAME,sFACHC;AADH,AAEE,OAAkBf,8EAAQe","names":["cljs-re-frame.router/routes","cljs-re-frame.router/match-route","uri","bidi.bidi/match-route","cljs-re-frame.router/history","p1__22018#","p1__22019#","dispatch","re-frame.core/dispatch","match","matched-route","js/console.log","pushy.core/pushy","cljs-re-frame.router/start!","cljs-re-frame.router/path-for","page","path","bidi.bidi/path-for","cljs-re-frame.router/set-token!","token"],"sourcesContent":["(ns cljs-re-frame.router\n  (:require [bidi.bidi :as bidi]\n            [pushy.core :as pushy]\n            [re-frame.core :as rf]))\n\n(def routes\n  [\"/samples/cljs/\"\n   {\"\"                      :front-page\n    \"profile\"               :profile\n    \"overview\"              :overview\n    \"auth\"                  :auth\n    \"accounts\"              :accounts\n    \"payments-and-transfer\" :payments-and-transfer\n    \"investment\"            :investment\n    \"pension-and-insurance\" :pension-and-insurance\n    \"messages\"              :messages\n    \"developer-support\"     :developer-support}])\n\n(defn match-route [uri]\n  (bidi/match-route routes uri))\n\n(def history\n  (let [dispatch #(rf/dispatch [::route-changed %])\n        match #(let [matched-route (bidi/match-route routes %)]\n                 (js/console.log \"matched-route\")\n                 (js/console.log matched-route)\n                 matched-route)]\n    (pushy/pushy dispatch match)))\n\n(defn start!\n  []\n  (pushy/start! history))\n\n(defn path-for [page]\n  (let [path (bidi/path-for routes page)]\n    (js/console.log (str \"path-for: \" page))\n    (js/console.log path)\n    path))\n\n(defn set-token!\n  [token]\n  (pushy/set-token! history token))\n"]}